"use strict";(self["webpackChunkforum_static"]=self["webpackChunkforum_static"]||[]).push([[489],{489:function(e,n,a){a.r(n),a.d(n,{default:function(){return V}});var r=a(3396),l=a(9242);const s={class:"main clearfix"},t={class:"username_div"},u={class:"username"},i=(0,r._)("span",null,"　用户名：",-1),o={class:"user_div"},d={class:"phone"},p=(0,r._)("span",null,"　手机号：",-1),c={class:"password"},_=(0,r._)("span",null,"　密　码：",-1),v={class:"confirm"},m=(0,r._)("span",null,"确认密码：",-1),f={class:"btn_div"},w=(0,r._)("span",null,"注册",-1),h=[w],E={class:"to_login"},y=(0,r.Uk)(" 已有账户？点击登录 ");function g(e,n,a,w,g,k){const H=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",s,[(0,r._)("div",null,[(0,r._)("div",t,[(0,r._)("div",u,[i,(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"text",id:"username",name:"username",placeholder:"请输入用户名","onUpdate:modelValue":n[0]||(n[0]=e=>w.username=e)},null,512),[[l.nr,w.username]])])])]),(0,r._)("div",o,[(0,r._)("div",d,[p,(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"tel",id:"phone",name:"phone",placeholder:"请输入手机号","onUpdate:modelValue":n[1]||(n[1]=e=>w.phone=e)},null,512),[[l.nr,w.phone]])])])]),(0,r._)("div",c,[_,(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"password",id:"password",name:"password",placeholder:"请输入密码","onUpdate:modelValue":n[2]||(n[2]=e=>w.password=e)},null,512),[[l.nr,w.password]])])]),(0,r._)("div",v,[m,(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"password",id:"confirm",name:"confirm",placeholder:"请输入密码","onUpdate:modelValue":n[3]||(n[3]=e=>w.confirm=e)},null,512),[[l.nr,w.confirm]])])]),(0,r._)("div",f,[(0,r._)("button",{id:"btn",onClick:n[4]||(n[4]=(...e)=>w.register&&w.register(...e))},h)]),(0,r._)("div",E,[(0,r.Wm)(H,{to:"/login"},{default:(0,r.w5)((()=>[y])),_:1})])])])}var k=a(678),H=a(4870),U=a(6265),R=a.n(U),b={name:"UserRegister",setup(){const e=(0,k.tv)();let n=(0,H.iH)(""),a=(0,H.iH)(""),r=(0,H.iH)(""),l=(0,H.iH)("");const s=async()=>{if(!/^\d{11}$/.test(n.value))return alert("请输入正确格式的手机号");if(!r.value)return alert("请输入用户名");if(!a.value)return alert("请输入密码");if(a.value!==l.value)return alert("两次密码不一致");try{const l=await R().post("/api/register",{phone:n.value,password:a.value,username:r.value});if("PHONE_HAS_BEEN_REGISTERED"===l.data)return alert("手机号已注册");if("USERNAME_HAS_BEEN_REGISTERED"===l.data)return alert("用户名已被注册");alert("注册成功"),e.push("/main")}catch{alert("服务器错误,稍后重试")}};return{phone:n,password:a,username:r,confirm:l,register:s}}},S=a(89);const N=(0,S.Z)(b,[["render",g]]);var V=N}}]);